import{r as t,j as e}from"./index-CxbT5qk9.js";import{g as T,C as S,a as k,b as E,c as p,d as a,e as M,f as l,h as B,i as D,j as F,k as H,l as I,u as N,m as R,n as z}from"./api-DXpaVv3W.js";import{C as G,a as J,b as K,c as L}from"./CRow-AZwQA-Dc.js";import{a as r}from"./axios-CpoBjWNN.js";import{C as f}from"./CFormInput-DqzrL_8W.js";import{C as U}from"./CFormTextarea-C7Refwfb.js";import"./DefaultLayout-OQTJHyH4.js";const Y=()=>{const[y,A]=t.useState([]),[g,n]=t.useState(!1),[o,d]=t.useState(null),[h,x]=t.useState(""),[C,j]=t.useState(""),[b,m]=t.useState(null);t.useEffect(()=>{c()},[]);const c=async()=>{const s=await T();A(s.data.data)},v=async()=>{const s={title:h,content:C,file:b};try{o?await N(o.id,s):await R(s),n(!1),d(null),c()}catch(i){console.error("Error:",i)}},w=async s=>{try{await z(s),c()}catch(i){console.error("Error:",i)}},u=(s=null)=>{d(s),x(s?s.title:""),j(s?s.content:""),m(null),n(!0)};return e.jsxs(G,{children:[e.jsx(J,{children:e.jsxs(K,{children:[e.jsx(S,{children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{children:"Articles"}),e.jsx(r,{color:"primary",onClick:()=>u(),children:"Add Article"})]})}),e.jsx(L,{children:e.jsxs(k,{hover:!0,children:[e.jsx(E,{children:e.jsxs(p,{children:[e.jsx(a,{children:"Id"}),e.jsx(a,{children:"Gambar"}),e.jsx(a,{children:"Judul"}),e.jsx(a,{children:"Konten"}),e.jsx(a,{children:"Aksi"})]})}),e.jsx(M,{children:y.map(s=>e.jsxs(p,{children:[e.jsx(l,{children:s.id}),e.jsx(l,{children:e.jsx(B,{size:"md",width:100,height:100,src:s.imageUrl})}),e.jsx(l,{children:s.title}),e.jsx(l,{children:s.content}),e.jsxs(l,{children:[e.jsx(r,{color:"warning",onClick:()=>u(s),children:"Edit"}),e.jsx(r,{color:"danger",onClick:()=>w(s.id),children:"Delete"})]})]},s.id))})]})})]})}),e.jsxs(D,{visible:g,onClose:()=>n(!1),children:[e.jsx(F,{closeButton:!0,children:o?"Edit Article":"Add Article"}),e.jsxs(H,{children:[e.jsx(f,{type:"text",placeholder:"Title",name:"title",value:h,onChange:s=>x(s.target.value),className:"mt-2"}),e.jsx(U,{type:"textarea",placeholder:"Content",className:"mt-2",name:"content",value:C,onChange:s=>j(s.target.value)}),e.jsx(f,{type:"file",name:"file",className:"mt-2",onChange:s=>m(s.target.files[0])})]}),e.jsxs(I,{children:[e.jsx(r,{color:"primary",onClick:v,children:"Save"}),e.jsx(r,{color:"secondary",onClick:()=>n(!1),children:"Cancel"})]})]})]})};export{Y as default};
