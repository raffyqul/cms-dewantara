import{r as o,_ as u,R as m,a as h,c as v,P as a,b as G,i as P,j as s}from"./index-CxbT5qk9.js";import{u as H,T as M,e as Z,b as z,c as E,a as F,d as B}from"./axios-CpoBjWNN.js";import{C as R,a as T,b as O,c as q}from"./CRow-AZwQA-Dc.js";import{C as V}from"./CFormInput-DqzrL_8W.js";var x=o.forwardRef(function(e,i){var r=e.children,t=e.className,l=e.color,n=l===void 0?"primary":l,c=e.dismissible,N=e.variant,d=e.visible,p=d===void 0?!0:d,L=e.onClose,k=u(e,["children","className","color","dismissible","variant","visible","onClose"]),b=o.useRef(null),I=H(i,b),j=o.useState(p),A=j[0],w=j[1];return o.useEffect(function(){w(p)},[p]),m.createElement(M,{in:A,mountOnEnter:!0,nodeRef:b,onExit:L,timeout:150,unmountOnExit:!0},function(S){return m.createElement("div",h({className:v("alert",N==="solid"?"bg-".concat(n," text-white"):"alert-".concat(n),{"alert-dismissible fade":c,show:S==="entered"},t),role:"alert"},k,{ref:I}),r,c&&m.createElement(Z,{onClick:function(){return w(!1)}}))})});x.propTypes={children:a.node,className:a.string,color:G.isRequired,dismissible:a.bool,onClose:a.func,variant:a.string,visible:a.bool};x.displayName="CAlert";var g=o.forwardRef(function(e,i){var r=e.children,t=e.className,l=u(e,["children","className"]);return m.createElement("div",h({className:v("card-group",t)},l,{ref:i}),r)});g.propTypes={children:a.node,className:a.string};g.displayName="CCardGroup";var y=o.forwardRef(function(e,i){var r=e.children,t=e.className,l=e.validated,n=u(e,["children","className","validated"]);return m.createElement("form",h({className:v({"was-validated":l},t)||void 0},n,{ref:i}),r)});y.propTypes={children:a.node,className:a.string,validated:a.bool};y.displayName="CForm";var f=o.forwardRef(function(e,i){var r,t=e.children,l=e.className,n=e.size,c=u(e,["children","className","size"]);return m.createElement("div",h({className:v("input-group",(r={},r["input-group-".concat(n)]=n,r),l)},c,{ref:i}),t)});f.propTypes={children:a.node,className:a.string,size:a.oneOf(["sm","lg"])};f.displayName="CInputGroup";var C=o.forwardRef(function(e,i){var r=e.children,t=e.as,l=t===void 0?"span":t,n=e.className,c=u(e,["children","as","className"]);return m.createElement(l,h({className:v("input-group-text",n)},c,{ref:i}),r)});C.propTypes={as:a.elementType,children:a.node,className:a.string};C.displayName="CInputGroupText";var D=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M384,200V144a128,128,0,0,0-256,0v56H88V328c0,92.635,75.364,168,168,168s168-75.365,168-168V200ZM160,144a96,96,0,0,1,192,0v56H160ZM392,328c0,74.99-61.01,136-136,136s-136-61.01-136-136V232H392Z' class='ci-primary'/>"],U=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M411.6,343.656l-72.823-47.334,27.455-50.334A80.23,80.23,0,0,0,376,207.681V128a112,112,0,0,0-224,0v79.681a80.236,80.236,0,0,0,9.768,38.308l27.455,50.333L116.4,343.656A79.725,79.725,0,0,0,80,410.732V496H448V410.732A79.727,79.727,0,0,0,411.6,343.656ZM416,464H112V410.732a47.836,47.836,0,0,1,21.841-40.246l97.66-63.479-41.64-76.341A48.146,48.146,0,0,1,184,207.681V128a80,80,0,0,1,160,0v79.681a48.146,48.146,0,0,1-5.861,22.985L296.5,307.007l97.662,63.479h0A47.836,47.836,0,0,1,416,410.732Z' class='ci-primary'/>"];const X=()=>{const[e,i]=o.useState(""),[r,t]=o.useState(""),[l,n]=o.useState(null),c=P(),N=async d=>{d.preventDefault();try{const p=await B.post("https://dewantara-api.vercel.app/api/v1/auth/login",{email:e,password:r});localStorage.setItem("token",p.data.data.token),c("/dashboard")}catch{n("Login failed. Please check your email and password.")}};return s.jsx("div",{className:"bg-light min-vh-100 d-flex flex-row align-items-center",children:s.jsx(z,{children:s.jsx(R,{className:"justify-content-center",children:s.jsx(T,{md:"8",children:s.jsx(g,{children:s.jsx(O,{className:"p-4",children:s.jsx(q,{children:s.jsxs(y,{onSubmit:N,children:[s.jsx("h1",{children:"Login"}),s.jsx("p",{className:"text-medium-emphasis",children:"Sign In to your account"}),l&&s.jsx(x,{color:"danger",children:l}),s.jsxs(f,{className:"mb-3",children:[s.jsx(C,{children:s.jsx(E,{icon:U})}),s.jsx(V,{type:"email",placeholder:"Email",autoComplete:"email",value:e,onChange:d=>i(d.target.value)})]}),s.jsxs(f,{className:"mb-4",children:[s.jsx(C,{children:s.jsx(E,{icon:D})}),s.jsx(V,{type:"password",placeholder:"Password",autoComplete:"current-password",value:r,onChange:d=>t(d.target.value)})]}),s.jsx(R,{children:s.jsx(T,{xs:"6",children:s.jsx(F,{type:"submit",color:"primary",className:"px-4",children:"Login"})})})]})})})})})})})})};export{X as default};
